(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{52:function(e,t,n){e.exports=n(84)},75:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(18),l=n.n(i),o=n(10),c=n(11),s=n(14),u=n(12),m=n(13),p=n(94),d=n(95),h=n(22),g=n(20),f=n(21),b=n.n(f);function O(){var e=Object(g.a)(["\n  query Current {\n    user {\n      id\n      email\n      firstName\n      lastName\n    }\n  }\n"]);return O=function(){return e},e}var v=b()(O());function E(){var e=Object(g.a)(["\n  mutation Logout {\n    logout {\n      id\n      email\n    }\n  }\n"]);return E=function(){return e},e}function j(){var e=Object(g.a)(["\n  mutation Login(\n    $email: String,\n    $password: String\n  ) {\n    login(\n      email: $email,\n      password: $password\n    ) {\n      id\n      email\n    }\n  }\n"]);return j=function(){return e},e}function w(){var e=Object(g.a)(["\n  mutation Signup(\n    $email: String,\n    $password: String,\n    $firstName: String,\n    $lastName: String\n  ) {\n    signup(\n      email: $email,\n      password: $password,\n      firstName: $firstName,\n      lastName: $lastName\n    ) {\n      id\n      email\n    }\n  }\n"]);return w=function(){return e},e}var y=b()(w()),S=b()(j()),N=b()(E()),k=n(15),L=n(91),$=n(4),C=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){n.setState({isOpen:!n.state.isOpen})},n.handleLogout=function(){n.props.logout().then(function(){return window.location.replace("/")})},n.loggedOutLinks=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement($.k,null,r.a.createElement($.l,{tag:L.a,to:"/login"},"Login")),r.a.createElement($.k,null,r.a.createElement($.l,{tag:L.a,to:"/signup"},"Signup")))},n.loggedInLinks=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement($.p,{nav:!0,inNavbar:!0},r.a.createElement($.e,{nav:!0,caret:!0},e.firstName),r.a.createElement($.d,{right:!0},r.a.createElement($.c,null,r.a.createElement($.l,{onClick:n.handleLogout},"Logout")))))},n.navLinks=function(){var e=n.props.current,t=e.loading,a=e.user;return t?null:a?n.loggedInLinks(a):n.loggedOutLinks(a)},n.toggle=n.toggle.bind(Object(h.a)(Object(h.a)(n))),n.state={isOpen:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($.m,{color:"light",light:!0,expand:"md"},r.a.createElement($.n,{tag:L.a,to:"/"},"reactstrap"),r.a.createElement($.o,{onClick:this.toggle}),r.a.createElement($.b,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement($.j,{className:"ml-auto",navbar:!0},this.navLinks()))))}}]),t}(a.Component),x=Object(k.compose)(Object(k.graphql)(v,{name:"current"}),Object(k.graphql)(N,{name:"logout"}))(C),q=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row full-height"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("h1",{className:"display-4"},"Index page"))))}}]),t}(a.Component),A=n(42),I=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={},n.componentWillMount=function(){n.setState(n.props.fields.reduce(function(e,t){var n=t.name;return Object.assign(e,Object(A.a)({},n,""))},{}))},n.handleSubmit=function(e){e.preventDefault(),n.props.onSubmit(n.state)},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(A.a)({},a,r))},n.fields=function(){return n.props.fields.map(function(e){return r.a.createElement($.h,{key:e.name},r.a.createElement($.i,{name:e.name,type:e.type,onChange:n.handleChange,placeholder:e.placeholder}))})},n.errors=function(){return n.props.errors.map(function(e,t){return r.a.createElement($.g,{className:"show-feedback",key:t},e.message)})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement($.f,{onSubmit:this.handleSubmit},this.fields(),this.errors(),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement($.a,{disabled:this.props.loading},"Submit"),r.a.createElement("i",{className:"\n            fa fa-spinner fa-spin form-spinner\n            ".concat(this.props.loading?"show":"hide")})))}}]),t}(a.Component),F=[{name:"email",placeholder:"Email...",type:"email"},{name:"password",placeholder:"Password...",type:"password"}],P=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={errors:[],loading:!1},n.handleSubmit=function(e){n.setState({loading:!0,errors:[]},function(){n.props.login({variables:e}).then(function(e){return window.location.replace("/")}).catch(function(e){return n.setState({errors:e.graphQLErrors,loading:!1})})})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row full-height"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h3",null,"Login"),r.a.createElement(I,{fields:F,loading:this.state.loading,errors:this.state.errors,onSubmit:this.handleSubmit}))))}}]),t}(a.Component),W=Object(k.compose)(Object(k.graphql)(S,{name:"login"}))(P),B=[{name:"email",placeholder:"Email...",type:"email"},{name:"firstName",placeholder:"First name...",type:"text"},{name:"lastName",placeholder:"Last name...",type:"text"},{name:"password",placeholder:"Password...",type:"password"}],J=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={errors:[],loading:!1},n.handleSubmit=function(e){n.setState({loading:!0,errors:[]},function(){n.props.signup({variables:e}).then(function(e){return window.location.replace("/")}).catch(function(e){return n.setState({errors:e.graphQLErrors,loading:!1})})})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row full-height"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h3",null,"Signup"),r.a.createElement(I,{fields:B,loading:this.state.loading,errors:this.state.errors,onSubmit:this.handleSubmit}))))}}]),t}(a.Component),Q=Object(k.compose)(Object(k.graphql)(y,{name:"signup"}))(J),D=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement(p.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:q}),r.a.createElement(d.a,{path:"/login",component:W}),r.a.createElement(d.a,{path:"/signup",component:Q})))}}]),t}(a.Component),M=n(36),z=n(50),G=n(92),H=n(93);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(71),n(73),n(75);var K=new M.a({link:new z.a({uri:"/graphql",credentials:"same-origin"}),cache:new G.a});l.a.render(r.a.createElement(k.ApolloProvider,{client:K},r.a.createElement(H.a,null,r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[52,2,1]]]);
//# sourceMappingURL=main.7c0cca78.chunk.js.map