(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{52:function(e,n,t){e.exports=t(84)},75:function(e,n,t){},84:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(18),i=t.n(o),l=t(10),c=t(11),s=t(14),u=t(12),m=t(13),p=t(94),d=t(95),h=t(22),g=t(20),f=t(21),b=t.n(f);function O(){var e=Object(g.a)(["\n  query Current {\n    user {\n      id\n      email\n      firstName\n      lastName\n    }\n  }\n"]);return O=function(){return e},e}var v=b()(O());function E(){var e=Object(g.a)(["\n  mutation Logout {\n    logout {\n      id\n      email\n    }\n  }\n"]);return E=function(){return e},e}function j(){var e=Object(g.a)(["\n  mutation Login(\n    $email: String,\n    $password: String\n  ) {\n    login(\n      email: $email,\n      password: $password\n    ) {\n      id\n      email\n    }\n  }\n"]);return j=function(){return e},e}function w(){var e=Object(g.a)(["\n  mutation Signup(\n    $email: String,\n    $password: String,\n    $firstName: String,\n    $lastName: String\n  ) {\n    signup(\n      email: $email,\n      password: $password,\n      firstName: $firstName,\n      lastName: $lastName\n    ) {\n      id\n      email\n    }\n  }\n"]);return w=function(){return e},e}var y=b()(w()),S=b()(j()),k=b()(E()),N=t(15),L=t(91),$=t(4),C=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(s.a)(this,Object(u.a)(n).call(this,e))).toggle=function(){t.setState({isOpen:!t.state.isOpen})},t.handleLogout=function(){t.props.logout().then(function(){return window.location.replace("/")})},t.loggedOutLinks=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement($.k,null,r.a.createElement($.l,{tag:L.a,to:"/login"},"Login")),r.a.createElement($.k,null,r.a.createElement($.l,{tag:L.a,to:"/signup"},"Signup")))},t.loggedInLinks=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement($.p,{nav:!0,inNavbar:!0},r.a.createElement($.e,{nav:!0,caret:!0},e.firstName),r.a.createElement($.d,{right:!0},r.a.createElement($.c,null,r.a.createElement($.l,{onClick:t.handleLogout},"Logout")))))},t.navLinks=function(){var e=t.props.current,n=e.loading,a=e.user;return n?null:a?t.loggedInLinks(a):t.loggedOutLinks(a)},t.toggle=t.toggle.bind(Object(h.a)(Object(h.a)(t))),t.state={isOpen:!1},t}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($.m,{color:"light",light:!0,expand:"md"},r.a.createElement($.n,{tag:L.a,to:"/"},"reactstrap"),r.a.createElement($.o,{onClick:this.toggle}),r.a.createElement($.b,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement($.j,{className:"ml-auto",navbar:!0},this.navLinks()))))}}]),n}(a.Component),x=Object(N.compose)(Object(N.graphql)(v,{name:"current"}),Object(N.graphql)(k,{name:"logout"}))(C),q=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"display-4"},"Index page"))}}]),n}(a.Component),A=t(42),I=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(o)))).state={},t.componentWillMount=function(){t.setState(t.props.fields.reduce(function(e,n){var t=n.name;return Object.assign(e,Object(A.a)({},t,""))},{}))},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state)},t.handleChange=function(e){var n=e.target,a=n.name,r=n.value;t.setState(Object(A.a)({},a,r))},t.fields=function(){return t.props.fields.map(function(e){return r.a.createElement($.h,{key:e.name},r.a.createElement($.i,{name:e.name,type:e.type,onChange:t.handleChange,placeholder:e.placeholder}))})},t.errors=function(){return t.props.errors.map(function(e,n){return r.a.createElement($.g,{className:"show-feedback",key:n},e.message)})},t}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement($.f,{onSubmit:this.handleSubmit},this.fields(),this.errors(),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement($.a,{disabled:this.props.loading},"Submit"),r.a.createElement("i",{className:"\n            fa fa-spinner fa-spin form-spinner\n            ".concat(this.props.loading?"show":"hide")})))}}]),n}(a.Component),F=[{name:"email",placeholder:"Email...",type:"email"},{name:"password",placeholder:"Password...",type:"password"}],P=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).state={errors:[],loading:!1},t.handleSubmit=function(e){t.setState({loading:!0,errors:[]},function(){t.props.login({variables:e}).then(function(e){return window.location.replace("/")}).catch(function(e){return t.setState({errors:e.graphQLErrors,loading:!1})})})},t}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row full-height"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h3",null,"Login"),r.a.createElement(I,{fields:F,loading:this.state.loading,errors:this.state.errors,onSubmit:this.handleSubmit}))))}}]),n}(a.Component),W=Object(N.compose)(Object(N.graphql)(S,{name:"login"}))(P),B=[{name:"email",placeholder:"Email...",type:"email"},{name:"firstName",placeholder:"First name...",type:"text"},{name:"lastName",placeholder:"Last name...",type:"text"},{name:"password",placeholder:"Password...",type:"password"}],J=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).state={errors:[],loading:!1},t.handleSubmit=function(e){t.setState({loading:!0,errors:[]},function(){t.props.signup({variables:e}).then(function(e){return window.location.replace("/")}).catch(function(e){return t.setState({errors:e.graphQLErrors,loading:!1})})})},t}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row full-height"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h3",null,"Signup"),r.a.createElement(I,{fields:B,loading:this.state.loading,errors:this.state.errors,onSubmit:this.handleSubmit}))))}}]),n}(a.Component),Q=Object(N.compose)(Object(N.graphql)(y,{name:"signup"}))(J),D=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement(p.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:q}),r.a.createElement(d.a,{path:"/login",component:W}),r.a.createElement(d.a,{path:"/signup",component:Q})))}}]),n}(a.Component),M=t(36),z=t(50),G=t(92),H=t(93);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(71),t(73),t(75);var K=new M.a({link:new z.a({uri:"/graphql",credentials:"same-origin"}),cache:new G.a});i.a.render(r.a.createElement(N.ApolloProvider,{client:K},r.a.createElement(H.a,null,r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[52,2,1]]]);
//# sourceMappingURL=main.fb1717ea.chunk.js.map